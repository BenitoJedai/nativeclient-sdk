#summary Instructions for building and running examples
#labels Featured

This page tells you how to use the Native Client SDK to build and run a Native Client module.

<wiki:toc />

= Before you start =

A few platform notes:

  * So far, these instructions have been confirmed only on Mac. Please let us know whether they work for you on other platforms.
  * On Windows when you get to the building step, you'll need cygwin (1.7 works; 1.5 doesn't) or some other UNIX toolchain.
  * Although you can use a 64-bit Windows or Linux system, the browser itself must be 32-bit software.

A few terminology notes:

  * {TBD}

= Getting the software =

To build and run .nexe files,
you need to get the Native Client SDK
and make sure you have the right version of the browser.

<ol>
<li> Download the SDK for your platform.

  http://build.chromium.org/buildbot/snapshots/nacl_new_sdk/

</li>

<li> Unarchive the SDK. You can probably just double-click it. If you prefer to use the command line, try something like this:

<blockquote>
<pre>tar xvf naclsdk_mac.tgz</pre></blockquote>
</li>

<li> Download and unarchive a recent version of Chromium from http://build.chromium.org/buildbot/continuous/. The following versions have been confirmed to work:

  * <a href="http://build.chromium.org/buildbot/continuous/mac/2010-03-29/42943/chrome-mac.zip">42943</a> (Mac)
  * ... (Windows)
  * ... (Linux; if you have a 64-bit machine, see https://bugs.launchpad.net/ubuntu/+source/ia32-libs/+bug/253430 for help in running a 32-bit browser)
  
{Note: Before we release these instructions to the public, the Dev channel will be sufficient.}
</li>

</ol>

= Running pre-built examples =

Your first step is to make sure that
you can run Native Client modules that are already on the web.

<ol>
<li> Run Chromium with these flags: `--enable-nacl --no-sandbox`. You probably want to use `--user-data-dir` as well, so that you don't have Native Client enabled all over the Web.

{Note: `--no-sandbox` is required ONLY on Mac; soon it won't be required.}

For example, to run Chromium on a Mac from the command line:

<blockquote>
<pre>/Users/me/Downloads/chrome-mac/Chromium.app/Contents/MacOS/Chromium --enable-nacl --no-sandbox --user-data-dir=~/nacl-chrome-profile</pre></blockquote>
</li>

<li>If you're using Linux, Mac, or 32-bit Windows, visit the following page:

     http://www/~kathyw/nacl-sdk/mac_x86-32/npapi_helloworld.html

If you're using 64-bit Windows, visit this page:

    {TBD: point to page with a 64-bit .nexe}

If you see SUCCESS under the Status heading,
then you've successfully executed the hello world example.
If not, try reloading the page.
If you still don't see SUCCESS,
{PENDING: Troubleshoot common issues.}

If you still can't run that example, look at the [https://groups.google.com/group/native-client-discuss native-client-discuss group] {PENDING: until this is external, just email the nacl team} to see if someone else has had the same problem.
</li>

</ol>

Once you've successfully run a .nexe from the web,
you're ready to build and run examples in the SDK.

= Building and running the SDK examples =

Before you can run any of the examples in the SDK, you need to build them.
Then you need to use an HTTP URL
to load an example's page.

<ol>
<li> Invoke `make` from the `examples` directory of the SDK to build the examples:

<blockquote>
<pre> cd native_client_sdk_0_1_0_0/examples
make</pre></blockquote>

This step creates release and debug versions of the SDK examples,
placing the results under `release` and `debug` directories, respectively.
</li>

<li> Run Chromium with the same flags as before. (If it's still running, you don't need to restart it.) {PENDING: is there a possibility of cache issues? maybe we should show a different example?} </li>

<li>
If you don't already have an HTTP server running,
start one up
so that you can get to the examples' built files using HTTP.
If you want to use the one that's included in the SDK,
go to the `example` directory and execute `python httpd.py`.
</li>

<li>
Load the npapi_helloworld example
from `examples/release/PLATFORM_NAME/npapi_helloworld.html`.
For example, if you're using a Mac and
the HTTP server that's included in the SDK,
use this URL:

  http://localhost:5103/release/mac_x86-32/npapi_helloworld.html

If you see SUCCESS under the Status heading,
then you've successfully built and executed the hello world example.
Woohoo!
</li>
</ol>

= What to do next =

See DebuggingModules and WritingModules.

= Move me =

{PENDING: The stuff in this section will move (and not necessarily be in this page).}


== Dev channel ==

These are miscellaneous instructions that we'll substitute for the Chromium instructions, once the dev channel works:

<ol>
<li>
Bring up the *About Google Chrome* dialog, and make sure you're running the Dev channel version of Google Chrome. On the Mac, the menu item that brings up this dialog under the Chrome menu; on Linux and Windows, it's under the Tools (wrench) menu.
</li>

<li>
If you aren't using the Dev channel, switch to it by following the instructions on this page:

  http://dev.chromium.org/getting-involved/dev-channel
</li>
</ol>

For example, to run Google Chrome on a Mac from the command line:

<blockquote>
<pre>/Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome --enable-nacl --no-sandbox --user-data-dir=~/nacl-chrome-profile</pre></blockquote>

== Make ==

<p>
Here are some of the most useful Make targets:
</p>

|| *Command* || *Description* ||
|| `make clean` || Clean everything ||
|| `make` || Build everything ||
|| `make release` || Build the release version of your module (.nexe) ||
|| `make debug` || Build the debug version ||