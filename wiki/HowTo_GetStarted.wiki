#summary Instructions for building and running examples
#labels Featured

This page tells you how to use the Native Client SDK to build and run a Native Client module. If you don't want to use the SDK — if you're interested only in running some prebuilt Native Client modules — then instead see HowTo_RunModules.

*Note:* This page and the procedures it describes are preliminary. We expect using the SDK to get easier, and we expect to have a separate page for each platform.

<wiki:toc />


= Getting the software =

To build and run Native Client modules,
you need to get the Native Client SDK
and the right version of the browser.
You might also need Python.

<ol>
<li> Download the SDK for your platform _(Note: the current version of the SDK is 0.1.507.0)_: 

    [http://build.chromium.org/mirror/nacl/nacl_sdk_0_1_507/naclsdk_win.exe Windows SDK] | [http://build.chromium.org/mirror/nacl/nacl_sdk_0_1_507/naclsdk_mac.tgz Mac SDK] | [http://build.chromium.org/mirror/nacl/nacl_sdk_0_1_507/naclsdk_linux.tgz Linux SDK]
</li>

<li> Extract the SDK's files.

<blockquote>
*Windows:* Run the self-extracting archive.
<code>naclsdk_win.exe</code>

*Mac or Linux:* Use the `tar` command.
<code>tar xvf naclsdk_mac.tgz</code>
</blockquote>

<p> <b>Important:</b>
Make sure there are *no spaces* in the path to the SDK. For example, the path `C:\Documents and Settings\me\My Documents\nacl-sdk` is bad; you can't successfully build examples under that directory. Instead, you could put the SDK under `C:\nacl-sdk`. 
</p>
</li>

<li> Install [http://www.google.com/chrome Google Chrome].
</li>

<li> Make sure your version of Google Chrome is at least *6.0.472.53* or later.  To find the version number, type `about:version` into the address bar.
</li>

<li> Make sure you have Python (version 2.4, 2.5, or 2.6). Here's how to check your Python version:

<code>python -V</code>

If you don't have Python, download it. You can get it for free from http://www.python.org/download/.
</li>

</ol>

= Running the SDK examples =

Prebuilt 32-bit versions of the examples are under each of the SDK's individual example directories. For example, the 32-bit x86 hello_world.nexe is in `examples/hello_world/hello_world_x86_32.nexe`. To run an example in the SDK, you need to do three things:

  # Launch Google Chrome with the `--enable-nacl` flag
  # Start a web server that can serve the pages under `examples`
  # Visit the example's HTTP URL in Google Chrome

Here are the details.

<ol>
<li>Quit Google Chrome if it's already running.

  ----
  <b>Note:</b> If you don't want to quit Google Chrome, or you want to protect your normal browser cache from your Native Client development, consider using the <a href="http://www.chromium.org/developers/creating-and-using-profiles">`--user-data-dir` flag</a>. 
  ----
  </li>
<li>Launch Google Chrome with the `--enable-nacl` flag. To launch Google Chrome with flags, either you can run it from a command line or you can set up a platform-specific shortcut or alias.

<blockquote>
*Windows:*
<code>"C:\Program Files (x86)\Google\Chrome\Application\chrome.exe" --enable-nacl --user-data-dir=%USERPROFILE%\nacl-chrome-profile</code>

*Mac:*
<code>"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome" --enable-nacl --user-data-dir=$HOME/nacl-chrome-profile</code>

*Linux:*
<code>/opt/google/chrome/chrome --enable-nacl --user-data-dir=$HOME/nacl-chrome-profile</code>
</blockquote>
</li>

<li>Start a web server that can serve the contents of the `examples` directory.  A simple python-based HTTP server is provided with the SDK, in the `examples` directory:<br />
*Windows:*
<code> cd examples
httpd.cmd 5103</code>
*Mac, Linux:*
<code> cd examples
python httpd.py 5103</code>
This starts a local server on port 5103.

<p>
*Note:* Later, if you want to shut down this server, navigate to the following URL: http://localhost:5103/?quit=1
</p>
</li>

<li>Each example has its own directory and HTML file. *In a browser that you started with --enable-nacl*, visit the HTTP URL corresponding to the example you want to run:<br />

  * http://localhost:5103/hello_world/hello_world.html
  * http://localhost:5103/pi_generator/pi_generator.html
  * http://localhost:5103/sine_synth/sine_synth.html
  * http://localhost:5103/tumbler/tumbler.html
</li>

</ol>
== What to expect ==

=== Hello World ===
  * Look at the *Status* heading. If you see SUCCESS, then the example is working. If not, try reloading the page. If you still don't see SUCCESS — for example, if it says the Client modules are loading too slowly — the example might still be OK.
  * Click the *Call fortytwo()* button. <br /> A dialog should come up, saying that the page says: *42*
  * Click the *Call helloworld()* button. <br /> A dialog should come up, saying that the page says: *hello, world.*

=== Pi Generator ===
  * A text box should appear and start printing values of pi.
  * A partially red square with an inscribed blue quarter-circle should appear.  Black speckles are painted on the square, these represent Monte Carlo points.
  * The example stops by itself after iterating for a while.

=== Sine Wave Synthesizer ===
  * Click the Play button to play a tone.
  * Try typing in a new frequency (say, 880) and click Play again (or press Enter).

=== Tumbler ===
  * A magenta square should appear.  (If it doesn't, click the blank area below the text.) This square is the front face of a 3D cube.
  * You can use the mouse to tumble the cube.  Click and drag over the cube and see what happens!

*Bonus:* Details about the implementation of the Tumbler example are in CodeWalkthrough_Tumbler.


= What to do next =

  * Try building the examples yourself.  Each one comes with a Makefile. For example to build the Hello World example:<br /><code>cd examples/hello_world ; make</code>
  * Read the makefiles to get a better idea of how they differ from those of regular binaries:
    * Any references to the Native Client toolchain are factored into `examples/common.mk`, which can be included in any project you build.
    * Targets are defined to be platform-specific; executable targets are `.nexe` (even on Linux).

  * If you haven't already run the online examples as described in HowTo_RunModules, run them.
 
  * If you're using Mac or Linux, try HowTo_Debug.
  
  * Read CodeWalkthrough_Tumbler.

  * Read up on the APIs that Native Client modules can use: Ref_ApiDoc

  * If you would like to contribute, grab the latest from our [http://code.google.com/p/nativeclient-sdk/source/checkout source tree] and [HowTo_GiveFeedback let us know] about your plans.
  
= Notes =

<ul>
<li>If you're using Google Chrome and a 64-bit Linux machine: </li>
<ul>
<li>
If you want to use the *32-bit* version of the browser, after downloading the <tt>google-chrome-unstable_current_i386.deb</tt> file, you will need to type in:
<code> sudo apt-get remove google-chrome-beta # if you have a 64-bit version of chrome installed
sudo dpkg --force-architecture -i google-chrome-unstable_current_i386.deb</code> </li>
<li>
See https://bugs.launchpad.net/ubuntu/+source/ia32-libs/+bug/253430 for help on using a 32-bit browser with a 64-bit Linux OS. </li>
</ul>

<li>
Some Linux computers do not have drivers for hardware-accelerated 3D graphics installed.  These *must* be installed in order for the Tumbler example to work.  To find out if you are using the software renderer, try running `glxinfo` and look for the Mesa driver.  If it is running, then you need to install a driver that does hardware acceleration. </li>

<li>The SDK is a work in progress. See Ref_KnownIssues. </li>
</ul>